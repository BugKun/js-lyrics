(function(){var e=function(){try{return this===window}catch(e){return!1}}()?window:global;e.Lyrics={parse:function(e,t){var n=function(e){var t=/^\[(\d{1,2}):(\d{1,2})(\.(\d{1,2}))?\]$/g.exec(e);if(!t)return undefined;var n=Number(t[1]),r=Number(t[2]),i=Number(t[4]),s=n*60+r;return i&&(s+=i/100),s},r=e.split("\n"),i=Array();for(var s=0;s<r.length;s++){var o=r[s].replace(/(^\s*)|(\s*$)/g,"");if(o.length>0){var u=Array(o),a=Array(),f="";while(u)u=/^(\[\d{1,2}:\d{1,2}(\.\d{1,2})?\])(.*)/g.exec(u[u.length-1]),u&&(a.push(u[1]),f=u[u.length-1]);for(var l=0;l<a.length;l++)i.push({timestamp:n(a[l]),text:f})}}if(!i.length)return undefined;i.sort(function(e,t){return e.timestamp>t.timestamp?1:-1});for(var s=0;s<i.length;s++)t&&t.call(i,i[s].timestamp,i[s].text);return i},select:function(e,t,n){if(isNaN(e))throw"Invalid timestamp.";for(var r=0;r<t.length;r++){var i=n?n.call(t,t[r]):t[r].timestamp;if(r<t.length-1)var s=n?n.call(t,t[r+1]):t[r+1].timestamp;if(r==0&&e<i)return undefined;if(r==t.length-1&&i<=e)return t[r];if(i<=e&&s>e)return t[r]}return undefined}}})();